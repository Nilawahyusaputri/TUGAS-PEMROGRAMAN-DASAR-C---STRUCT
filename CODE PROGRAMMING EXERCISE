#include <iostream>
#include <string>
#include <iomanip>
using namespace std;

struct studentType {
    string studentFName;
    string studentLName;
    int testScore;
    char grade;
};

// Fungsi membaca data mahasiswa
void readStudents(studentType arr[], int n) {
    cout << "==========================================" << endl;
    cout << "     INPUT DATA NILAI MAHASISWA" << endl;
    cout << "==========================================" << endl;
    for (int i = 0; i < n; ++i) {
        cout << "\nMahasiswa ke-" << i + 1 << endl;
        cout << "Nama depan   : ";
        cin >> arr[i].studentFName;
        cout << "Nama belakang: ";
        cin >> arr[i].studentLName;
        cout << "Nilai (0–100): ";
        cin >> arr[i].testScore;
        
        // Validasi agar nilai antara 0–100
        while (arr[i].testScore < 0 || arr[i].testScore > 100) {
            cout << "Nilai tidak valid! Masukkan ulang (0–100): ";
            cin >> arr[i].testScore;
        }
    }
}

// Fungsi menentukan grade dari nilai
char scoreToGrade(int score) {
    if (score >= 90) return 'A';
    else if (score >= 80) return 'B';
    else if (score >= 70) return 'C';
    else if (score >= 60) return 'D';
    else return 'F';
}

// Fungsi mengisi grade tiap mahasiswa
void assignGrades(studentType arr[], int n) {
    for (int i = 0; i < n; ++i)
        arr[i].grade = scoreToGrade(arr[i].testScore);
}

// Fungsi mencari nilai tertinggi
int findHighestScore(studentType arr[], int n) {
    int highest = arr[0].testScore;
    for (int i = 1; i < n; ++i)
        if (arr[i].testScore > highest)
            highest = arr[i].testScore;
    return highest;
}

// Fungsi menampilkan mahasiswa dengan nilai tertinggi
void printTopScorers(studentType arr[], int n, int highest) {
    cout << "\n==========================================" << endl;
    cout << "       MAHASISWA DENGAN NILAI TERTINGGI" << endl;
    cout << "==========================================" << endl;
    cout << "Nilai tertinggi : " << highest << endl;
    cout << "Nama Mahasiswa  :" << endl;
    for (int i = 0; i < n; ++i)
        if (arr[i].testScore == highest)
            cout << "- " << arr[i].studentFName << " " << arr[i].studentLName << endl;
}

// Fungsi menampilkan seluruh data mahasiswa
void printAll(studentType arr[], int n) {
    cout << "\n==========================================" << endl;
    cout << "            DAFTAR NILAI MAHASISWA" << endl;
    cout << "==========================================" << endl;
    cout << left << setw(20) << "Nama"
         << setw(10) << "Nilai"
         << setw(8) << "Grade" << endl;
    cout << "------------------------------------------" << endl;

    for (int i = 0; i < n; ++i)
        cout << left << setw(20) << (arr[i].studentFName + " " + arr[i].studentLName)
             << setw(10) << arr[i].testScore
             << setw(8) << arr[i].grade << endl;
}

int main() {
    const int N = 20;
    studentType students[N];

    readStudents(students, N);
    assignGrades(students, N);

    int highest = findHighestScore(students, N);

    printAll(students, N);
    printTopScorers(students, N, highest);

    cout << "\n==========================================" << endl;
    cout << "Program selesai. Terima kasih!" << endl;
    cout << "==========================================" << endl;

    return 0;
}
